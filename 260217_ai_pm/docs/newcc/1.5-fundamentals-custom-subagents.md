---
type: guide
status: revise
track: fundamentals
---

# 1.5 Fundamentals - Custom Subagents

**빠른 요약**
- 1.5 Fundamentals - Custom Subagents 주제를 빠르게 이해하고 바로 써볼 수 있게 정리한 문서입니다.

**이번 문서 목표**
- 읽고 나면 1.5 Fundamentals - Custom Subagents 내용을 내 업무 흐름에 맞게 적용할 수 있습니다.

**처음 보는 분 가이드**
- 먼저 `## 1) 목적`과 `## 5) 실습/적용 체크리스트`만 읽고 시작하세요.
- 용어가 낯설면 [사전](./사전.md)을 먼저 확인하세요.

## 1) 목적
- 반복 업무를 위한 상시 전문 서브에이전트를 정의해 리뷰 품질의 일관성을 확보한다.
- ad-hoc 병렬 작업(1.4)과 custom sub-agent(1.5)의 쓰임을 분리해 운영 효율을 높인다.

## 2) 원문 핵심 요약 (ccforpms)
- custom sub-agent는 `.claude/agents/`에 Markdown 파일로 정의하며 상시 재사용 가능하다.
- ad-hoc agent는 일회성 병렬 처리에, custom sub-agent는 반복 전문 리뷰에 적합하다고 구분한다.
- 파일 기본 구성 요소가 제시된다: `Emoji+Name`, `Color`, `Persona`, `Expertise`.
- 저장 위치가 중요하다: 프로젝트 숨김 폴더 `.claude/agents/` 아래에 있어야 정상 로드된다.
- 실습 예시 역할이 구체적이다: Engineer, Executive, User Researcher.
- 파일명 규칙이 있다: lowercase + hyphen + `.md` (예: `qa-tester.md`).
- 호출 검증은 `claude` 재실행 후 이모지+이름으로 직접 불러 동작을 확인한다.
- `/agents` 명령으로 등록 목록을 점검하고, 미노출 시 경로/확장자/재시작 여부를 확인한다.

### Claude Code 핵심 기능 연결 (official 반영)
- Custom sub-agent는 Claude Code의 에이전트 생태계를 팀 운영 자산으로 만드는 핵심 기능으로, 일회성 병렬과 반복 전문 리뷰를 분리 운영하게 해준다.
- multi-surface 환경에서 서브에이전트 정의 파일과 실제 리뷰 결과를 함께 보며 튜닝하면 역할 경계 조정 속도가 빨라진다.
- PM 반복 리뷰 자동화(기술 리스크, 사용자 관점, 임원 요약)를 역할별로 분해해 표준 품질을 유지할 수 있다.
- MCP와 결합하면 외부 협업 도구 데이터까지 역할별로 다루는 전문 에이전트 체계를 확장할 수 있다.
- `CLAUDE.md`에 호출 규칙/출력 형식/검증 항목을 명시하면 서브에이전트 결과의 일관성이 높아진다.
- git/PR로 `.claude/agents/` 변경을 관리하면 역할 정의 진화 과정을 팀 지식으로 축적할 수 있다.
- CLI composability(`/agents`, 역할 호출, 비교 리뷰, 재정의)를 루틴화하면 신입 PM도 빠르게 팀 표준 리뷰 프로세스에 합류할 수 있다.

### ccforpms 단계별 실행 예시 (실전 재현)
1. **반복 리뷰 업무를 먼저 정의한다.**
   - 실행 입력(프롬프트): `우리 팀에서 매주 반복되는 리뷰 업무 3개를 뽑고, 서브에이전트가 맡을 범위를 제안해줘.`
   - 기대 출력: 업무-역할 매핑표.
   - 체크포인트: 일회성 업무가 포함되지 않았는지 확인.

2. **역할 스펙(페르소나/전문성)을 설계한다.**
   - 실행 입력(프롬프트): `Engineer/Executive/User Researcher 서브에이전트의 Persona와 Expertise를 5줄씩 작성해줘.`
   - 기대 출력: 역할 정의 초안.
   - 체크포인트: 각 역할에 필수 출력 형식이 포함되는지 확인.

3. **`.claude/agents/`에 파일을 생성한다.**
   - 실행 입력(행동): `engineer-reviewer.md`, `executive-reviewer.md` 등 lowercase-hyphen 규칙으로 저장.
   - 기대 출력: agent 파일 생성 완료.
   - 체크포인트: 경로/확장자/파일명 규칙 준수 여부 확인.

4. **등록 상태를 점검한다.**
   - 실행 입력(명령): `/agents`
   - 기대 출력: 새로 만든 서브에이전트 목록 노출.
   - 체크포인트: 목록 미노출 시 재시작/경로 재확인.

5. **실문서로 호출 테스트를 한다.**
   - 실행 입력(프롬프트): `@prd-draft.md를 engineer-reviewer 관점으로 리뷰해줘.`
   - 기대 출력: 기술 리스크 중심 피드백.
   - 체크포인트: 역할별 피드백이 명확히 구분되는지 확인.

6. **중복 피드백을 정리해 역할을 튜닝한다.**
   - 실행 입력(프롬프트): `세 서브에이전트 피드백에서 중복 항목을 제거하고 역할 경계를 다시 제안해줘.`
   - 기대 출력: 개정된 역할 정의.
   - 체크포인트: 역할 간 책임 충돌이 줄었는지 확인.

7. **팀 공통 호출 프롬프트를 만든다.**
   - 실행 입력(프롬프트): `신입 PM도 쓸 수 있는 서브에이전트 호출 프롬프트 템플릿 5개를 작성해줘.`
   - 기대 출력: 업무별 호출 템플릿 묶음.
   - 체크포인트: 입력 문서, 기대 출력, 검증 기준이 모두 포함되는지 확인.

## 3) 이든 철학 반영 포인트 (v2.4)
- **P1 실행 우선 + Level 2**: 서브에이전트 정의를 문서화로 끝내지 않고 즉시 호출/검증까지 완료하도록 요구한다.
- **P3 PM 오케스트레이션 + Level 2**: PM이 역할 설계자 관점에서 리뷰 관점을 체계적으로 분리한다.
- **P6 자동화 운영 기반 + Level 2**: 반복되는 검토 업무를 개인 역량 의존에서 팀 자산(에이전트 파일)으로 전환한다.
- **P9 Words-to-Workflow + Level 4**: 에이전트 정의 문서 자체가 실행 가능한 협업 프로토콜로 동작한다.
- **P5 한국 실무 적합성 + Level 2**: 국내 PM 의사결정에 필요한 관점(기술 리스크/사업 우선순위/사용자 맥락)을 역할로 내재화한다.

## 4) 실무 적용 시나리오
시니어 PM이 신규 기능 PRD 리뷰를 매주 반복하는 팀을 운영한다. `engineer`, `executive`, `user-researcher` 3개 서브에이전트를 상시 등록해 매번 같은 기준으로 초안을 점검한다. 리뷰 편차가 줄어들고, PM은 상충되는 피드백을 우선순위화하는 의사결정에 집중한다.

### 이번 주 완료형 실행 플랜
- **월~화 실행**: 반복 리뷰 업무를 2~3개 선정하고, 각 업무에 필요한 서브에이전트 역할과 책임 범위를 정의합니다.
- **수~목 실행**: `.claude/agents/`에 역할별 파일을 생성하고 실제 문서(PRD/회의록)에 호출해 피드백 품질을 비교합니다.
- **금요일 검증**: 기존 수동 리뷰와 서브에이전트 리뷰 결과를 대조해 누락 항목, 중복 지적, 실행 가능성 차이를 점검합니다.
- **Done 기준**: 최소 2개 서브에이전트가 상시 운영 가능 상태로 등록되고, 팀이 재사용할 호출 프롬프트 예시가 확정됩니다.
- **리스크/완화**: 역할 설명이 모호하면 피드백이 겹치므로, Persona/Expertise에 금지 범위와 필수 산출 항목을 명시합니다.

### PM Use Case 확장 (Claude Code 기능 매핑)
| PM 상황 | Claude Code 기능 | 실행 예시 | 검증 포인트 |
|---|---|---|---|
| PRD 리뷰 품질이 작성자 역량에 따라 흔들림 | custom sub-agent 상시 역할화 | engineer/executive/researcher 리뷰 에이전트 운영 | 리뷰 누락 항목 감소 |
| 반복 리뷰 시간이 과도하게 길어짐 | 역할별 자동 1차 리뷰 | 초안 입력 후 역할별 피드백 동시 생성 | 1차 리뷰 리드타임 단축 |
| 피드백이 겹쳐 실행 우선순위가 불명확 | 역할 경계 명시 + 비교 합성 | 중복 항목 제거 후 우선순위 재정렬 | 역할 충돌 건수 감소 |
| 팀원이 호출 방식을 매번 다르게 사용 | `CLAUDE.md` 호출 템플릿 고정 | 업무 유형별 표준 호출 프롬프트 배포 | 신입 PM 재현 성공 |
| 역할 정의 변경 이력이 사라짐 | git/PR로 agents 파일 관리 | `.claude/agents/*.md` 수정 PR 리뷰 | 변경 이유/효과 추적 가능 |

### 실무 적용 시나리오 (초보자용 상세 실행안)
| 요일 | 시간 | 행동 | 산출물 | 검증 기준 |
|---|---|---|---|---|
| 월 | 09:00~10:00 | 반복 리뷰 업무 선정 | 업무 후보표 | 주 2회 이상 반복 업무 2개 이상 확정 |
| 화 | 15:00~16:00 | 역할/책임 정의 작성 | 역할 정의서 v1 | 역할별 금지 범위 포함 |
| 수 | 10:30~11:30 | `.claude/agents/` 파일 생성 | 서브에이전트 파일 2~3개 | 파일명 규칙/경로 규칙 100% 준수 |
| 목 | 14:00~15:30 | 실제 문서 호출 테스트 | 리뷰 결과 비교표 | 역할별 피드백 중복률 감소 |
| 금 | 16:00~17:00 | 튜닝 + 템플릿 확정 | 호출 프롬프트 세트 | 신입 PM 재현 테스트 통과 |

- **초보자 실행 팁 1**: 역할 설명에 "무엇을 안 하는지"를 꼭 적어야 중복이 줄어듭니다.
- **초보자 실행 팁 2**: 첫 버전은 완벽하게 만들기보다 실제 문서 1건으로 빠르게 검증합니다.
- **초보자 실행 팁 3**: `/agents`에 안 보이면 내용보다 경로/파일명부터 의심합니다.
- **롤백/복구 액션**: 목요일 테스트에서 피드백 중복률이 높으면, 신규 에이전트 파일을 임시 비활성화하고 이전 안정 버전 정의로 롤백한 뒤 역할 경계를 재작성 후 재등록합니다.

### 자주 막히는 지점과 해결 가이드
1. **막힘: 에이전트가 목록에 안 나타남**
   - 해결: `.claude/agents/` 경로, `.md` 확장자, lowercase-hyphen 파일명을 순서대로 점검.

2. **막힘: 역할이 겹쳐 피드백이 중복됨**
   - 해결: Persona/Expertise에 필수 산출물과 금지 영역을 명시해 경계를 선명히 함.

3. **막힘: 좋은 피드백인데 실행 우선순위로 연결이 안 됨**
   - 해결: 각 리뷰 결과에 반드시 "즉시 실행 1개/보류 1개"를 강제 출력.

4. **막힘: 팀원이 호출 프롬프트를 매번 새로 작성함**
   - 해결: 업무 유형별 호출 템플릿 라이브러리를 만들어 복붙 사용을 표준화.

### Claude Code 핵심개념 체크리스트 (표준 템플릿)
- [ ] 이 문서의 목표를 **문제-행동-성과지표** 1문장으로 적었다.
- [ ] 작업 시작 전에 **모드(Plan / Edit / Auto-Accept)** 선택 기준을 기록했다.
- [ ] `CLAUDE.md`의 프로젝트 규칙(금지사항/품질게이트/보고형식)을 확인했다.
- [ ] `@` 또는 첨부 자료로 **맥락 입력(문서/데이터/정책) 3개 이상** 연결했다.
- [ ] 필요한 경우 **sub-agent/병렬 작업** 범위와 합성(synthesis) 책임자를 지정했다.
- [ ] **MCP/외부도구 연동 필요 여부**와 접근 권한 상태를 점검했다.
- [ ] 산출물에 **검증 기준(정확성/재현성/지표/테스트)** 을 명시했다.
- [ ] 결과를 **Git/문서 링크/로그**로 추적 가능하게 남겼다.
- [ ] 다음 액션 3개를 **담당자·기한·검증포인트**와 함께 확정했다.

## 5) 실습/적용 체크리스트
- [ ] `/start-1-5` 실행 후 `.claude/agents/` 경로를 확인했다.
- [ ] 서브에이전트 1개 이상을 파일 규칙(lowercase-hyphen)으로 생성했다.
- [ ] `Color/Persona/Expertise`를 역할 목적에 맞게 구체화했다.
- [ ] `claude` 재실행 후 이모지+이름으로 호출 검증을 완료했다.
- [ ] `/agents` 목록 확인 및 미노출 대응 절차를 기록했다.

## 6) 산출물
- 커스텀 서브에이전트 정의 파일 1~3개
- 역할별 리뷰 기준표
- 호출/등록 검증 로그
- 운영 개선 백로그(역할 추가·수정 항목)
- 서브에이전트 호출 프롬프트 라이브러리(업무 유형별 예시)

### 원문 링크 (Claude Code / Tutorials)
- Claude Code Overview: https://code.claude.com/docs/en/overview
- Tutorials Hub: https://claude.com/resources/tutorials
- Claude Cowork: A Research Preview: https://claude.com/resources/tutorials/claude-cowork-a-research-preview
- Get the most from Claude Opus 4.6: https://claude.com/resources/tutorials/get-the-most-from-claude-opus-4-6
- Getting started with Claude AI: https://claude.com/resources/tutorials/getting-started-with-claude-ai